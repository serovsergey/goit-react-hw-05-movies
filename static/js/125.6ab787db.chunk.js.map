{"version":3,"file":"static/js/125.6ab787db.chunk.js","mappings":"gRACA,EAAuB,2BAAvB,EAAyD,2BAAzD,EAA6F,6BAA7F,EAAoI,8BAApI,EAAwK,0BAAxK,EAA2M,6B,mBCmF3M,EA3EqB,SAACA,GAAW,IAAD,IAC9B,GAAwCC,EAAAA,EAAAA,UAAS,MAAjD,eAAOC,EAAP,KAAqBC,EAArB,KACA,GAAkCF,EAAAA,EAAAA,WAAS,GAA3C,eAAOG,EAAP,KAAkBC,EAAlB,KACQC,GAAYC,EAAAA,EAAAA,MAAZD,QACFE,GAAWC,EAAAA,EAAAA,MAqBjB,IAnBAC,EAAAA,EAAAA,YAAU,YACR,iBAAC,oGAEGL,GAAa,GAFhB,SAGsBM,EAAAA,GAAoBL,GAH1C,QAGSM,EAHT,SAMKT,EAAgBS,GANrB,gDAUGC,QAAQC,IAAI,SAVf,yBAaGT,GAAa,GAbhB,2EAAD,EAgBD,GAAE,CAACC,IAEAF,EACF,OAAO,SAACW,EAAA,EAAD,IAGT,IAAKb,EACH,OACE,iCACE,SAAC,KAAD,CAAMc,GAAG,IAAIC,UAAWC,EAAxB,uBACA,8CAKN,IAAMC,EAAmB,SAAC,GAAD,IAAGC,EAAH,EAAGA,SAAH,OAAkBF,GAASE,EAAW,IAAMF,EAAW,GAAvD,EAEjBG,EAAqFnB,EAArFmB,MAAOC,EAA8EpB,EAA9EoB,YAAaC,EAAiErB,EAAjEqB,SAAUC,EAAuDtB,EAAvDsB,aAAcC,EAAyCvB,EAAzCuB,eAAgBC,EAAyBxB,EAAzBwB,aAAcC,EAAWzB,EAAXyB,OAC5EC,EAAcJ,GAAgBC,EAC9BI,EAAcD,EAAc,IAAIE,KAAKF,GAAaG,cAAgB,EAClEC,GAA4B,GAAfN,GAAmBO,QAAQ,GACxCC,EAAeP,EAAOQ,KAAK,qBAAGC,IAAH,IAAqBC,KAAK,KAE3D,OACE,4BACE,UAAC,KAAD,CAAMrB,GAAE,iBAAER,QAAF,IAAEA,GAAF,UAAEA,EAAU8B,aAAZ,aAAE,EAAiBC,YAAnB,QAA2B,UAAWtB,UAAWC,EAAzD,UAAkE,SAAlE,eACA,iBAAKD,UAAWC,EAAhB,WACE,gBAAKsB,IAAKlB,EAAcX,EAAAA,GAAsB,OAASW,EAAcmB,EAAAA,EAASC,IAAKrB,EAAOJ,UAAWC,KACrG,4BACE,0BAAKG,EAAL,MAAeQ,GAAF,WAAqBA,EAArB,SACb,wCAAgBG,EAAhB,QACA,sCACA,uBAAIT,KACJ,oCACA,uBAAIW,WAIR,mBACA,qDACA,gBAAIjB,UAAWC,EAAf,WACE,yBAAI,SAAC,KAAD,CAASF,GAAE,kBAAaV,EAAb,YAAgCgC,MAAO9B,EAAS8B,MAAOrB,UAAWE,EAA7E,wBACJ,yBAAI,SAAC,KAAD,CAASH,GAAE,kBAAaV,EAAb,SAA6BgC,MAAO9B,EAAS8B,MAAOrB,UAAWE,EAA1E,wBAGN,SAAC,KAAD,MAGL,C","sources":["webpack://react-homework-template/./src/pages/MovieDetails/MovieDetails.module.scss?57ee","pages/MovieDetails/MovieDetails.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"info\":\"MovieDetails_info__Ngz-G\",\"link\":\"MovieDetails_link__jKv3y\",\"poster\":\"MovieDetails_poster__Fyg8Y\",\"btnList\":\"MovieDetails_btnList__ri1C2\",\"tab\":\"MovieDetails_tab__aSc+H\",\"active\":\"MovieDetails_active__eF+lm\"};","import React, { useEffect, useState } from 'react';\nimport { Link, NavLink, Outlet, useLocation, useParams } from 'react-router-dom';\n// import PropTypes from 'prop-types';\nimport * as API from '../../services/tmdbAPI';\nimport noImage from '../../assets/no-image.svg';\n\nimport s from './MovieDetails.module.scss';\nimport Loader from 'components/common/Loader';\n\nconst MovieDetails = (props) => {\n  const [movieDetails, setMovieDetails] = useState(null);\n  const [isLoading, setIsLoading] = useState(true);\n  const { movieId } = useParams();\n  const location = useLocation();\n\n  useEffect(() => {\n    (async () => {\n      try {\n        setIsLoading(true);\n        const data = await API.getMovieDetails(movieId);\n        // console.log(data)\n        if (data) {\n          setMovieDetails(data);\n        }\n      }\n      catch (e) {\n        console.log('error')\n      }\n      finally {\n        setIsLoading(false);\n      }\n    })();\n  }, [movieId])\n\n  if (isLoading) {\n    return <Loader />\n  }\n\n  if (!movieDetails) {\n    return (\n      <>\n        <Link to='/' className={s.link}> Go Home</Link>\n        <h2>Wrong movie id</h2>\n      </>\n    );\n  }\n\n  const getLinkClassName = ({ isActive }) => s.tab + (isActive ? \" \" + s.active : \"\");\n\n  const { title, poster_path, overview, release_date, first_air_date, vote_average, genres } = movieDetails;\n  const releaseDate = release_date || first_air_date;\n  const releaseYear = releaseDate ? new Date(releaseDate).getFullYear() : 0;\n  const userScore = (vote_average * 10).toFixed(0);\n  const genresString = genres.map((({ name }) => name)).join(' ');\n\n  return (\n    <div >\n      <Link to={location?.state?.from ?? '/movies'} className={s.link}>{'\\u2B9C'} Go Back</Link>\n      <div className={s.info}>\n        <img src={poster_path ? API.IMAGES_BASE_URL + 'w342' + poster_path : noImage} alt={title} className={s.poster} />\n        <div>\n          <h2>{title} {!!releaseYear && `(${releaseYear})`}</h2>\n          <p>User score: {userScore}%</p>\n          <h3>Overview</h3>\n          <p>{overview}</p>\n          <h3>Genres</h3>\n          <p>{genresString}</p>\n        </div>\n      </div>\n\n      <hr />\n      <h3>Additional Information:</h3>\n      <ul className={s.btnList}>\n        <li><NavLink to={`/movies/${movieId}/reviews`} state={location.state} className={getLinkClassName}>Reviews</NavLink></li>\n        <li><NavLink to={`/movies/${movieId}/cast`} state={location.state} className={getLinkClassName}>Cast</NavLink></li>\n      </ul>\n      {/* <hr /> */}\n      <Outlet />\n    </div>\n  )\n};\n\n// MovieDetails.propTypes = {};\n\nexport default MovieDetails;\n"],"names":["props","useState","movieDetails","setMovieDetails","isLoading","setIsLoading","movieId","useParams","location","useLocation","useEffect","API","data","console","log","Loader","to","className","s","getLinkClassName","isActive","title","poster_path","overview","release_date","first_air_date","vote_average","genres","releaseDate","releaseYear","Date","getFullYear","userScore","toFixed","genresString","map","name","join","state","from","src","noImage","alt"],"sourceRoot":""}